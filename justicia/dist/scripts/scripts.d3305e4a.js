var SocialShare=SocialShare||{};$(document).ready(function(){"use strict";!function(a){function b(a,b){if(!h[a])throw new Error("Share service not defined");var d=c(a,b);return f(d),this}function c(a,b){var c=h[a].shareurl,f=h[a].paramproto;b=b||{},"facebook"===a?b.u?b.u=g+b.u:b.u=g:"twitter"===a||(b.url?b.url=g+b.url:b.url=g),"linkedin"===a&&(b.mini&&"true"===b.mini||(b.mini="true"));var i=d(b,f),j=e(c,i);return j}function d(a,b){var c=[];a=a||{};for(var d in a)if(b.hasOwnProperty(d)){var e=b[d]+encodeURIComponent(a[d]);c.push(e)}return c}function e(a,b){b=b||[];var c=b.length?a+b.join("&"):a;return c}function f(a){var b=600,c=600,d=($(window).height()-c)/2,e=($(window).width()-b)/2,f="status=1,width="+b+",height="+c+",top="+d+",left="+e,g=a,h="_blank";return window.open(g,h,f),!1}var g=window.location.href,h={twitter:{shareurl:"http://twitter.com/intent/tweet?",paramproto:{text:"text=",url:"url=",hashtags:"hashtags=",via:"via=",related:"related="}},facebook:{shareurl:"http://www.facebook.com/sharer.php?",paramproto:{u:"u="}},linkedin:{shareurl:"http://www.linkedin.com/shareArticle?",paramproto:{url:"url=",mini:"mini=",title:"title=",summary:"summary=",source:"source="}},googleplus:{shareurl:"https://plus.google.com/share?",paramproto:{url:"url=",hl:"hl="}}};!function(){function a(a,b){return b=$.map(b,function(b,c){return a+"-"+b}),function(a){if(a){var c=$.map(b,function(a,b){return"."+a});return c.join(", ")}return b}}function c(a){function c(a){return $(this).hasClass(a)}var d=Array.prototype.slice.call($(this)[0].attributes),f={};$.each(d,function(a,b){var c=b.name,d=b.value;if(0===c.indexOf(e+"-")||0===c.indexOf("data-"+e+"-")){var g=c.split(e+"-")[1];f[g]=d}});var h=g.filter(c.bind(this));if(1===h.length){var i=h[0].split("-")[1];b(i,f)}}var d=Object.keys(h),e="share",f=a(e,d)(!0),g=a(e,d)(!1);$(f).on("click",c)}();var i={share:b};return a=$.extend(a,i)}(SocialShare)}),angular.module("justiciaApp",["ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).otherwise({redirectTo:"/"})}]).run(["$rootScope","$window",function(a,b){pym.Child({polling:500});a.inIframe=function(){try{return b.self!==b.top}catch(a){return!0}}}]),angular.module("justiciaApp").controller("MainCtrl",["$scope",function(a){a.data=[{id:1,title:"Video condena 1",text:"Condena 1 Lorem Ipsum",video:"condena.mp4"},{id:2,title:"Video condena 2",text:"Condena 2 Lorem Ipsum",video:"condena.mp4"}],a.selectedVideo=a.data[0],a.media=!1,a.playing=!1,a.playVideo=function(){var b=Math.floor(Math.random()*a.data.length);a.selectedVideo=a.data[b],a.media=document.querySelector("#video-"+a.selectedVideo.id),a.media.addEventListener("ended",a.stopVideo),a.media.play(),a.playing=!0},a.stopVideo=function(){a.media&&(a.media.pause(),a.media.currentTime=0,a.playing=!1,a.$apply())}}]),angular.module("justiciaApp").run(["$templateCache",function(a){"use strict";a.put("views/main.html",'<div class="col-md-12"> <div id="video-container"> <div class="video-item row" ng-repeat="d in data" ng-class="{selected:d.video==selectedVideo.video}"> <div class="col-sm-3"> <video id="video-{{d.id}}" poster="images/poster.png" width="100%"> <source id="source" ng-src="{{\'videos/\'+d.video}}" type="video/mp4"> </video> </div> <div class="col-sm-9"> <h2><a id="btn-play" ng-show="!playing" ng-click="playVideo()">Play Video!</a></h2> <div ng-if="playing"> <h2>{{d.title}}</h2> <p>{{d.text}}</p> </div> </div> </div> </div> </div>')}]);