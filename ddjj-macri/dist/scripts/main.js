"use strict";var SocialShare=SocialShare||{};$(document).ready(function(){!function(t){function e(t,e){if(!u[t])throw new Error("Share service not defined");var a=r(t,e);return o(a),this}function r(t,e){var r=u[t].shareurl,o=u[t].paramproto;e=e||{},"facebook"===t?e.u?e.u=i+e.u:e.u=i:"twitter"===t||(e.url?e.url=i+e.url:e.url=i),"linkedin"===t&&(e.mini&&"true"===e.mini||(e.mini="true"));var s=a(e,o),c=n(r,s);return c}function a(t,e){var r=[];t=t||{};for(var a in t)if(e.hasOwnProperty(a)){var n=e[a]+encodeURIComponent(t[a]);r.push(n)}return r}function n(t,e){e=e||[];var r=e.length?t+e.join("&"):t;return r}function o(t){var e=600,r=600,a=($(window).height()-r)/2,n=($(window).width()-e)/2,o="status=1,width="+e+",height="+r+",top="+a+",left="+n,i=t,u="_blank";return window.open(i,u,o),!1}var i=window.location.href,u={twitter:{shareurl:"http://twitter.com/intent/tweet?",paramproto:{text:"text=",url:"url=",hashtags:"hashtags=",via:"via=",related:"related="}},facebook:{shareurl:"http://www.facebook.com/sharer.php?",paramproto:{u:"u="}},linkedin:{shareurl:"http://www.linkedin.com/shareArticle?",paramproto:{url:"url=",mini:"mini=",title:"title=",summary:"summary=",source:"source="}},googleplus:{shareurl:"https://plus.google.com/share?",paramproto:{url:"url=",hl:"hl="}}};!function(){function t(t,e){return e=$.map(e,function(e,r){return t+"-"+e}),function(t){if(t){var r=$.map(e,function(t,e){return"."+t});return r.join(", ")}return e}}function r(t){function r(t){return $(this).hasClass(t)}var a=Array.prototype.slice.call($(this)[0].attributes),o={};$.each(a,function(t,e){var r=e.name,a=e.value;if(0===r.indexOf(n+"-")||0===r.indexOf("data-"+n+"-")){var i=r.split(n+"-")[1];o[i]=a}});var u=i.filter(r.bind(this));if(1===u.length){var s=u[0].split("-")[1];e(s,o)}}var a=Object.keys(u),n="share",o=t(n,a)(!0),i=t(n,a)(!1);$(o).on("click",r)}();var s={share:e};return t=$.extend(t,s)}(SocialShare)});var CHQ;d3.selection.prototype.moveToFront=function(){return this.each(function(){this.parentNode.appendChild(this)})},function(t,e,r,a,n){CHQ={},CHQ.pymChild=pym.Child({polling:500}),CHQ.$body=r("body"),CHQ.init=function(){var t=CHQ.$body.width();CHQ.$body.css("min-height",9*t/16),a.init({key:"1upUGqPIAWsGpk00BecZbVpoWowPuGHm96pwPv_hppAs",callback:CHQ.dataLoaded,simpleSheet:!0,parseNumbers:!0}),CHQ.inIframe()?r(".iframe-show").show():r(".no-iframe-show").show()},CHQ.postProcess=function(t,e){return r.each(t,function(e,r){"anio"!=e&&(t[e]=(t[e]+"").replace(/\./g,""),t[e]=parseInt(t[e]),"deudas"==e&&(t[e]*=-1))}),t.id=e,t},CHQ.dataLoaded=function(t,e){CHQ.rawData=t.map(CHQ.postProcess),console.log("data",CHQ.rawData),CHQ.$body.removeClass("loading"),CHQ.render(),setTimeout(CHQ.startEvents,2e3)},CHQ.startEvents=function(){r(window).resize(function(){clearTimeout(CHQ.timeoutId),CHQ.timeoutId=setTimeout(CHQ.render,500)})},CHQ.render=function(){var t=(r("#chart-container").width(),["bienes","ahorros","acciones","deudas","bienes_hogar","otros"]),t=(c3.generate({bindto:"#chart-container",data:{json:CHQ.rawData,keys:{x:"anio",value:t},type:"bar",groups:[t]},axis:{x:{type:"category"}},grid:{y:{lines:[{value:0}]}}}),["bienes_exterior","ahorros_exterior"]),t=(c3.generate({bindto:"#chart-exterior-container",data:{json:CHQ.rawData,keys:{x:"anio",value:t},type:"bar",groups:[t]},axis:{x:{type:"category"}},grid:{y:{lines:[{value:0}]}}}),["patrimonio_total"]);c3.generate({bindto:"#chart-total-container",data:{json:CHQ.rawData,keys:{x:"anio",value:t},type:"line"},axis:{x:{type:"category"}},grid:{y:{lines:[{value:0}]}}})},CHQ.inIframe=function(){try{return window.self!==window.top}catch(t){return!0}}}(window,document,jQuery,Tabletop,Mustache);